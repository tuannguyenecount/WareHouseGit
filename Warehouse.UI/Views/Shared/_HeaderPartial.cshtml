@model InfoShop
@{
    List<Category> categories = ViewBag.Categories;
}
<header id="header" class="desktop-header-style-w-4">
    <div class="header-banner">
    </div>
    <nav class="header-nav">
        <div class="container">
            <div class="row justify-content-between">
                <div class="col col-auto col-md left-nav">
                    <div class="block-iqitlinksmanager block-iqitlinksmanager-2 block-links-inline d-inline-block">
                        <ul>
                            <li>
                                <a href="tel:@Model.Phone" title="Gọi cho shop để được trợ giúp ngay">
                                    Hot line <i class="fa fa-phone"></i> @Model.Phone
                                </a>
                            </li>
                            <li>
                                <a href="@Model.Fanpage" title="Fanpage của shop">
                                    Fanpage <i class="fa fa-facebook"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col col-auto center-nav text-center">
                </div>
                <div class="col col-auto col-md right-nav text-right">
                    @*<div id="language_selector" class="d-inline-block">
                            <div class="language-selector-wrapper d-inline-block">
                                <div class="language-selector dropdown js-dropdown">
                                    <a class="expand-more" data-toggle="dropdown"><img src="https://iqit-commerce.com/ps17/img/l/1.jpg" alt="English" class="img-fluid lang-flag"> English <i class="fa fa-angle-down" aria-hidden="true"></i></a>
                                    <div class="dropdown-menu">
                                        <ul>
                                            <li class="current">
                                                <a href="https://iqit-commerce.com/ps17/en/" rel="alternate" hreflang="en" class="dropdown-item"><img src="https://iqit-commerce.com/ps17/img/l/1.jpg" alt="English" class="img-fluid lang-flag"> English</a>
                                            </li>
                                            <li>
                                                <a href="https://iqit-commerce.com/ps17/pl/" rel="alternate" hreflang="pl" class="dropdown-item"><img src="https://iqit-commerce.com/ps17/img/l/2.jpg" alt="Polski" class="img-fluid lang-flag"> Polski</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>*@
                    @*<div class="d-inline-block">
                            <a href="//iqit-commerce.com/ps17/en/module/iqitwishlist/view">
                                <i class="fa fa-heart-o" aria-hidden="true"></i> Sản phẩm yêu thích (<span id="iqitwishlist-nb">0</span>)
                            </a>
                        </div>
                        <div class="d-inline-block">
                            <a href="//iqit-commerce.com/ps17/en/module/iqitcompare/comparator">
                                <i class="fa fa-random" aria-hidden="true"></i> <span>So sánh (<span id="iqitcompare-nb">0</span>)</span>
                            </a>
                        </div>*@
                </div>
            </div>
        </div>
    </nav>
    <div id="desktop-header" class="desktop-header-style-4">
        <div class="header-top">
            <div id="desktop-header-container" class="container">
                <div class="row align-items-center">
                    <div class="col col-auto col-header-left">
                        <div id="desktop_logo">
                            <a href="/">
                                <img class="logo img-fluid" src="~/images/@Model.Logo" alt="@Model.ShopName">
                            </a>
                        </div>
                    </div>
                    <div class="col col-header-center col-header-menu">
                        <div id="iqitmegamenu-wrapper" class="iqitmegamenu-wrapper iqitmegamenu-all">
                            <div class="container container-iqitmegamenu">
                                <div id="iqitmegamenu-horizontal" class="iqitmegamenu  clearfix" role="navigation">
                                    <nav id="cbp-hrmenu" class="cbp-hrmenu cbp-horizontal cbp-hrsub-narrow">
                                        <ul>
                                            <li class="cbp-hrmenu-tab">
                                                <a class="nav-link" href="/">
                                                    <span class="cbp-tab-title">Trang chủ</span>
                                                </a>
                                            </li>
                                            <li id="cbp-hrmenu-tab-8" class="cbp-hrmenu-tab  cbp-has-submeu">
                                                <a role="button" class="cbp-empty-mlink nav-link">
                                                    <span class="cbp-tab-title">
                                                        Danh Mục Sản Phẩm <i class="fa fa-angle-down cbp-submenu-aindicator"></i>
                                                    </span>
                                                    <span class="label cbp-legend cbp-legend-main">
                                                        Xem ngay
                                                    </span>
                                                </a>
                                                <div class="cbp-hrsub col-12">
                                                    <div class="cbp-hrsub-inner">
                                                        <div class="container iqitmegamenu-submenu-container">
                                                            <div class="row menu_row menu-element  first_rows menu-element-id-1">
                                                                <div class="col-6 cbp-menu-column cbp-menu-element menu-element-id-2 cbp-empty-column">
                                                                    <div class="cbp-menu-column-inner">
                                                                        @{ int z = 0;
                                                                            int count = categories.Count;
                                                                            int take = count / 4;
                                                                        }
                                                                        @for (int i = 0; i < 2; i++) {
                                                                            <div class="row menu_row menu-element  menu-element-id-3">
                                                                                @for (int j = 0; j < 2; j++) {
                                                                                    if (count < 4) {
                                                                                        take = count % 4;
                                                                                    }

                                                                                    foreach (Category category in categories.Where(c => c.ParentId == null).Skip(z * take).Take(take).OrderBy(c => c.OrderNum)) {
                                                                                        <div class="col-6 cbp-menu-column cbp-menu-element menu-element-id-4 ">
                                                                                            <div class="cbp-menu-column-inner">
                                                                                                <div class="row cbp-categories-row">
                                                                                                    <div class="col-12">
                                                                                                        <div class="cbp-category-link-w">
                                                                                                            <a href="@Url.Action("Index", "Product", new { aliasCategory = category.Alias_SEO })" class="cbp-column-title nav-link cbp-category-title">@categories.ElementAt(z).Name</a>
                                                                                                            <ul class="cbp-links cbp-category-tree">
                                                                                                                @foreach (Category subCategory in categories.ElementAt(z).Category1.OrderBy(c => c.OrderNum)) {
                                                                                                                    <li>
                                                                                                                        <div class="cbp-category-link-w">
                                                                                                                            <a href="@Url.Action("Index", "Product", new { aliasCategory = subCategory.Alias_SEO })">@subCategory.Name</a>
                                                                                                                        </div>
                                                                                                                    </li>
                                                                                                                }

                                                                                                            </ul>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    z++;
                                                                                }

                                                                            </div>
                                                                        }

                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                            </li>
                                            <li class="cbp-hrmenu-tab">
                                                <a href="@Url.Action("About","Home")" class="nav-link"><span class="cbp-tab-title">Giới Thiệu</span></a>
                                            </li>
                                            <li class="cbp-hrmenu-tab">
                                                <a href="@Url.Action("SalesPolicy","Home")" class="nav-link"><span class="cbp-tab-title">Chính Sách Bán Hàng</span></a>
                                            </li>
                                            <li class="cbp-hrmenu-tab">
                                                <a href="@Url.Action("ShoppingGuide","Home")" class="nav-link"><span class="cbp-tab-title">Hướng Dẫn Mua Hàng</span></a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                            <div id="sticky-cart-wrapper"></div>
                        </div>
                        <div id="_desktop_iqitmegamenu-mobile">
                            <ul id="iqitmegamenu-mobile">
                                <li>
                                    <a href="@Url.Action("Index","Home",new { area = "" })">Trang chủ</a>
                                </li>
                                @foreach (Category category in categories.Where(c => c.ParentId == null).OrderBy(c => c.OrderNum)) {
                                    <li>
                                        <span class="mm-expand"><i class="fa fa-angle-down expand-icon" aria-hidden="true"></i><i class="fa fa-angle-up close-icon" aria-hidden="true"></i></span>
                                        <a href="@Url.Action("Index", "Product", new { aliasCategory = category.Alias_SEO })">@category.Name</a>
                                        @if (category.Category1 != null && category.Category1.Count > 0) {
                                            <ul>
                                                @foreach (Category subCategory in category.Category1.OrderBy(c => c.OrderNum)) {
                                                    <li>
                                                        @if (subCategory.Category1 == null || subCategory.Category1.Count == 0) {
                                                            <a href="@Url.Action("Index", "Product", new { aliasCategory = subCategory.Alias_SEO })">@subCategory.Name</a>
                                                        }
                                                        else {
                                                            <span class="mm-expand"><i class="fa fa-angle-down expand-icon" aria-hidden="true"></i><i class="fa fa-angle-up close-icon" aria-hidden="true"></i></span>
                                                            <a href="https://iqit-commerce.com/ps17/en/4-tops">@subCategory.Name</a>
                                                            <ul>
                                                                @foreach (Category subSubCategory in subCategory.Category1.OrderBy(c => c.OrderNum)) {
                                                                    <li>
                                                                        <a href="@Url.Action("Index", "Product", new { aliasCategory = subCategory.Alias_SEO })">@subSubCategory.Name</a>
                                                                    </li>
                                                                }
                                                            </ul>

                                                        }
                                                    </li>
                                                }
                                            </ul>
                                        }
                                    </li>
                                }
                                <li>
                                    <a href="@Url.Action("About","Home",new { area = "" })">Giới thiệu shop</a>
                                </li>
                                <li>
                                    <a href="@Url.Action("SalesPolicy","Home",new { area = "" })">Chính sách bán hàng</a>
                                </li>
                                @*<li>
                                    <a href="@Url.Action("ShoppingGuide","Home",new { area = "" })">Hướng dẫn mua sắm</a>
                                </li>*@
                            </ul>
                        </div>
                    </div>
                    <div class="col col-auto col-header-right">
                        <div class="row no-gutters justify-content-end">
                            <div id="header-search-btn" class="col col-auto header-btn-w header-search-btn-w">
                                <a data-toggle="dropdown" id="header-search-btn-drop" class="header-btn header-search-btn">
                                    <i class="fa fa-search fa-fw icon" aria-hidden="true"></i>
                                    <span class="title">Tìm sản phẩm</span>
                                </a>
                                <div class="dropdown-content modal-backdrop fullscreen-search">
                                    <!-- Block search module TOP -->
                                    <div id="search_widget" class="search-widget" data-search-controller-url="//iqit-commerce.com/ps17/en/search?order=product.position.desc">
                                        <form method="get" action="//iqit-commerce.com/ps17/en/search?order=product.position.desc">
                                            <input type="hidden" name="controller" value="search">
                                            <div class="input-group">
                                                <input type="hidden" name="order" value="product.position.desc">
                                                <input type="text" name="s" value="" data-all-text="Show all results" placeholder="Search our catalog" class="form-control form-search-control" autocomplete="off">
                                                <button type="submit" class="search-btn">
                                                    <i class="fa fa-search"></i>
                                                </button>
                                            </div>
                                            <div class="autocomplete-suggestions "></div>
                                        </form>
                                    </div>
                                    <!-- /Block search module TOP -->
                                    <div id="fullscreen-search-backdrop"></div>
                                </div>
                            </div>
                            <div id="header-user-btn" class="col col-auto header-btn-w header-user-btn-w">
                                <a href="@Url.Action("Login","Account")" title="Đăng nhập" rel="nofollow" class="header-btn header-user-btn">
                                    <i class="fa fa-user fa-fw icon" aria-hidden="true"></i>
                                    <span class="title">Đăng nhập</span>
                                </a>
                            </div>
                            @Html.Partial("_ShoppingCartPartial")
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="row">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="mobile-header" class="mobile-header-style-2">
        <div id="mobile-header-sticky">
            <div class="container">
                <div class="mobile-main-bar">
                    <div class="row no-gutters align-items-center row-mobile-header">
                        <div class="col col-mobile-logo">
                            <a href="https://iqit-commerce.com/ps17/">
                                <img class="logo img-fluid" src="/Content/ps17/img/warehouse-for-prestashop-17-logo-1496957294.jpg" alt="Warehouse for Prestashop 1.7">
                            </a>
                        </div>
                        <div id="mobile-btn-search" class="col col-auto col-mobile-btn col-mobile-btn-search">
                            <a class="m-nav-btn" data-toggle="dropdown">
                                <i class="fa fa-search" aria-hidden="true"></i>
                                <span>Search</span>
                            </a>
                            <div id="search-widget-mobile" class="dropdown-content dropdown-menu dropdown-mobile search-widget">
                                <form method="get" action="https://iqit-commerce.com/ps17/en/search">
                                    <input type="hidden" name="controller" value="search">
                                    <div class="input-group">
                                        <input type="text" name="s" value="" placeholder="Search" data-all-text="Show all results" class="form-control form-search-control" autocomplete="off">
                                        <button type="submit" class="search-btn">
                                            <i class="fa fa-search"></i>
                                        </button>
                                    </div>
                                    <div class="autocomplete-suggestions "></div>
                                </form>
                            </div>
                        </div>
                        <div class="col col-auto col-mobile-btn col-mobile-btn-account">
                            <a href="@Url.Action("Login","Account")" class="m-nav-btn">
                                <i class="fa fa-user" aria-hidden="true"></i>
                                <span>Đăng nhập</span>
                            </a>
                        </div>
                        <div class="col col-auto col-mobile-btn col-mobile-btn-cart ps-shoppingcart side-cart">
                            <div id="mobile-cart-wrapper">
                                <a id="mobile-cart-toogle" class="m-nav-btn" data-toggle="dropdown">
                                    <i class="fa fa-shopping-bag mobile-bag-icon" aria-hidden="true"><span id="mobile-cart-products-count" class="cart-products-count cart-products-count-btn">0</span></i>
                                    <span>Cart</span>
                                </a>
                                <div id="_mobile_blockcart-content"></div>
                            </div>
                        </div>
                        <div class="col col-auto col-mobile-btn col-mobile-btn-menu col-mobile-menu-dropdown">
                            <a class="m-nav-btn" data-toggle="dropdown">
                                <i class="fa fa-bars" aria-hidden="true"></i>
                                <span>Menu</span>
                            </a>
                            <div id="_mobile_iqitmegamenu-mobile"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>